class DemoLoader{constructor(){this.config=null,this.hashMap={}}async init(){try{const e=await fetch("demos.json");return this.config=await e.json(),this.buildHashMap(),!0}catch(e){return console.error("Failed to load demos configuration:",e),!1}}buildHashMap(){this.hashMap={},this.config.lectures.forEach((e=>{e.locked||e.demos.forEach((e=>{this.hashMap[e.id]={path:`${e.path}/content.html`,title:e.title,navId:`nav-${e.id}`}}))}))}generateNavigation(){const e=document.querySelector(".nav-container");if(!e)return;const t=document.getElementById("nav-home");e.innerHTML="",t&&e.appendChild(t),this.config.lectures.forEach((t=>{const n=document.createElement("div");n.className="nav-group";const a=document.createElement("h4"),o=document.createElement("div");o.className="lecture-number",o.textContent=`Lecture ${t.lectureNumber}`;const c=document.createElement("div");c.className="lecture-title",c.textContent=t.lectureTitle,a.appendChild(o),a.appendChild(c),t.locked&&a.classList.add("nav-lecture-locked"),n.appendChild(a),t.locked||t.demos.forEach((e=>{const t=document.createElement("div");t.className="nav-item",t.id=`nav-${e.id}`;const a=document.createElement("a");a.href="#",a.textContent=`â€£ ${e.title}`,a.onclick=t=>{t.preventDefault(),window.loadContent&&window.loadContent(`${e.path}/content.html`,e.title,`nav-${e.id}`)},t.appendChild(a),n.appendChild(t)})),e.appendChild(n)}));const n=document.createElement("div");n.className="nav-item nav-credits-item",n.id="nav-credits";const a=document.createElement("a");a.href="#",a.textContent="Credits",a.onclick=e=>{e.preventDefault(),window.loadContent&&window.loadContent("credits.html","Credits","nav-credits")},n.appendChild(a),e.appendChild(n)}generateGallery(){const e=document.querySelector(".demo-grid");e&&(e.innerHTML="",this.config.lectures.forEach((t=>{if(t.locked){const n=document.createElement("div");n.className="lecture-section-locked";const a=document.createElement("h3");a.textContent=`Lecture ${t.lectureNumber}: ${t.lectureTitle}`;const o=document.createElement("span");o.className="week-badge-large",o.textContent=`Available Week ${t.week}`,n.appendChild(a),n.appendChild(o),e.appendChild(n)}else t.demos.forEach((n=>{const a=document.createElement("a");a.href="#",a.className="demo-card-link",a.onclick=e=>(e.preventDefault(),window.parent&&window.parent.loadContent&&window.parent.loadContent(`${n.path}/content.html`,n.title,`nav-${n.id}`),!1);const o=document.createElement("div");o.className="demo-card";const c=document.createElement("div");c.className="demo-preview";const d=document.createElement("img");d.src=`${n.path}/${n.preview}`,d.alt=`${n.title} preview`,d.style.width="100%",d.style.height="100%",d.style.objectFit="cover",c.appendChild(d);const i=document.createElement("div");i.className=`lecture-badge lecture-${t.lectureNumber}`,i.textContent=`Lecture ${t.lectureNumber}`,c.appendChild(i);const r=document.createElement("div");r.className="demo-content";const l=document.createElement("h3");l.textContent=n.title;const s=document.createElement("p");s.textContent=n.description,r.appendChild(l),r.appendChild(s),o.appendChild(c),o.appendChild(r),a.appendChild(o),e.appendChild(a)}))})))}getHashMap(){return this.hashMap}isDemoAvailable(e){for(const t of this.config.lectures)if(!t.locked){if(t.demos.find((t=>t.id===e)))return!0}return!1}getCurrentWeek(){return this.config?this.config.currentWeek:1}async setCurrentWeek(e){this.config&&(this.config.currentWeek=e,this.config.lectures.forEach((t=>{t.locked=t.week>e})),this.buildHashMap(),this.generateNavigation(),this.generateGallery())}}window.demoLoader=new DemoLoader,document.addEventListener("DOMContentLoaded",(async()=>{await window.demoLoader.init()&&(document.querySelector(".nav-container")&&window.demoLoader.generateNavigation(),document.querySelector(".demo-grid")&&window.demoLoader.generateGallery())}));