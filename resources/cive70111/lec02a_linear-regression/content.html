<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linear Regression</title>
    <script src="../scripts/mathjax-config.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../scripts/demotab.css">
    <link rel="stylesheet" href="../demo-common.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="iframe-content">
        <div class="container">

        <div class="info-tabs">
            <div class="tab-header">
            </div>

            <div class="tab-content">
                <div class="tab-panel active" data-tab-title="Introduction">
                    <strong>Linear Regression</strong><br><br>
                    This interactive demo helps you understand linear regression, one of the fundamental concepts in machine learning and statistics. Linear regression finds the best straight line through data points to model relationships between variables.<br><br>
                    You'll explore how changing the line parameters affects the fit quality, learn about different error metrics, and work with real civil engineering datasets to see linear regression in action.
                </div>

                <div class="tab-panel" data-tab-title="Instructions">
                    <strong>How to Use:</strong><br><br>
                    ‚Ä¢ Adjust the $\alpha$ slider to move the line up or down<br>
                    ‚Ä¢ Adjust the $\beta$ slider to change the slope of the line<br>
                    ‚Ä¢ Click anywhere on the plot to add new data points<br>
                    ‚Ä¢ Use <em>"Generate New Data"</em> to create 10 random points<br>
                    ‚Ä¢ Use <em>"Clear All Data"</em> to remove all points<br>
                    ‚Ä¢ Click on one of the datasets in <em>"Load Example Datasets"</em> to see real-life examples<br>
                    ‚Ä¢ Toggle visualization options to explore different aspects of the regression
                </div>

                <div class="tab-panel" data-tab-title="Challenges">
                    <strong>Test Your Understanding:</strong><br><br
                    ‚Ä¢ <em>Minimize MSE below 50</em> - Can you find the best fit?<br>
                    ‚Ä¢ <em>Achieve R¬≤ above 0.75</em> - Aim for a strong correlation<br>
                    ‚Ä¢ <em>Compare different datasets</em> - Which shows the strongest linear relationship?<br>
                    ‚Ä¢ <em>Use "Find Optimal Solution"</em> - Then try to match it manually!
                </div>

                <div class="tab-panel" data-tab-title="Compete">
                    <strong>Live Competition Mode</strong><br><br>
                    It's showtime! Your goal is to achieve the highest R¬≤ score in class using only manual parameter adjustment.<br><br>
                    <span style="color: darkred; font-weight: bold;">‚ö†Ô∏è Keep this tab active - switching to another tab may temporarily remove you from the leaderboard</span><br><br>


                    <strong>Competition Rules:</strong><br>

                    ‚Ä¢ Everyone uses the same randomly generated dataset<br>
                    ‚Ä¢ Only manual slider adjustment allowed - no "Find Optimal Solution" button<br>
                    ‚Ä¢ Real-time leaderboard shows top performers<br>
                    <div id="username-display" style="display: none;">‚Ä¢ Your anonymous name: <span id="competition-username" style="font-weight: bold; color: #3498db;"></span><br></div>
                    <br><strong>Scoring:</strong><br>
                    ‚Ä¢ Primary ranking by R¬≤ score (higher is better)<br>
                    ‚Ä¢ Secondary ranking by MSE (lower is better)<br>
                    ‚Ä¢ Live updates as you adjust parameters
                </div>

                <div class="tab-panel" data-tab-title="Tips">
                    <strong>Understanding the Metrics:</strong><br><br>
                    ‚Ä¢ <strong>R¬≤ values:</strong> 0.0-0.3 (poor), 0.3-0.7 (moderate), 0.7+ (good fit)<br>
                    ‚Ä¢ <strong>MSE vs MAE:</strong> MSE penalizes large errors more heavily than MAE<br>
                    ‚Ä¢ <strong>Confidence intervals:</strong> Show uncertainty in predictions (wider = less certain)<br>
                    ‚Ä¢ <strong>Œ± (alpha):</strong> Y-intercept - where the line crosses the Y-axis<br>
                    ‚Ä¢ <strong>Œ≤ (beta):</strong> Slope - how much Y changes for each unit of X
                </div>
            </div>
        </div>

        <div class="demo-area">
            <div class="plot-container">
                <canvas id="plot" width="600" height="455"></canvas>
                <div class="plot-buttons">
                    <button class="generate-data-btn" id="generate-data-btn">Generate Random Data</button>
                    <button class="clear-data-btn" id="clear-data-btn">Clear All Data</button>
                </div>

                <!-- Competition Leaderboard Panel - positioned immediately below graph -->
                <div class="leaderboard-panel" id="leaderboard-panel" style="display: none;">
                    <div class="panel-title">üèÜ Live Competition Leaderboard - Top 10</div>
                    <div class="leaderboard-status" id="leaderboard-status">
                        <span class="status-indicator" id="status-dot"></span>
                        <span id="status-text">Connecting...</span>
                    </div>
                    <div class="leaderboard-content" id="leaderboard-content">
                        <div class="your-position" id="your-position"></div>
                        <div class="leaderboard-list" id="leaderboard-list"></div>
                    </div>
                </div>

                <div class="dataset-buttons-section">
                    <label class="dataset-section-label">Sample Datasets:</label>
                    <div class="dataset-buttons">
                        <button class="dataset-btn structures-btn" id="structures-btn">Structures</button>
                        <button class="dataset-btn geotech-btn" id="geotech-btn">Geotechnics</button>
                        <button class="dataset-btn transport-btn" id="transport-btn">Transport</button>
                        <button class="dataset-btn environment-btn" id="environment-btn">Environment</button>
                    </div>

                    <div class="dataset-info-box" id="dataset-info-box">
                        <div class="dataset-info-title" id="dataset-info-title"></div>
                        <div class="dataset-info-description" id="dataset-info-description"></div>
                        <div class="dataset-info-variables" id="dataset-info-variables"></div>
                    </div>
                </div>
            </div>

            <div class="controls">
                <div class="control-group">
                    <label for="alpha">$\alpha$ (Intercept)</label>
                    <div class="slider-container">
                        <input type="range" id="alpha" min="-100" max="200" step="1" value="0">
                        <div class="value-display" id="alpha-value">0</div>
                    </div>
                </div>

                <div class="control-group">
                    <label for="beta">$\beta$ (Gradient/Slope)</label>
                    <div class="slider-container">
                        <input type="range" id="beta" min="-10" max="30" step="0.1" value="1">
                        <div class="value-display" id="beta-value">1.0</div>
                    </div>
                </div>

                <div class="equation" id="equation">
                    y = 1.0x + 0
                </div>

                <div class="equation mae-equation" id="mae">
                    MAE = 0.0
                </div>

                <div class="equation mse-equation" id="mse">
                    MSE = 0.0
                </div>

                <div class="equation r2-equation" id="r2">
                    R¬≤ = 0.0
                </div>

                <div class="visualization-panel">
                    <div class="panel-title">Visualization Options</div>
                    <div class="checkbox-grid">
                        <label class="checkbox-label">
                            <input type="checkbox" id="show-squares" class="checkbox-input">
                            Show Squared Errors
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="show-confidence" class="checkbox-input">
                            Show Confidence Intervals
                        </label>
                    </div>
                </div>

                <button class="solution-btn" id="solution-btn">Find Optimal Solution</button>
            </div>
        </div>

    </div>
    </div>

    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    <script src="../leaderboard-client.js"></script>
    <script src="../scripts/demotab.js"></script>
    <script src="script.js"></script>
</body>
</html>