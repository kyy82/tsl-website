<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML Demos - Interactive Machine Learning Demonstrations</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header">
        <div class="header-left">
            <img src="imperial-tsl-logo.svg" alt="Imperial TSL Logo" class="logo">
            <div class="title">
                <a href="#" class="title-main" style="color: inherit; text-decoration: none;" onclick="loadContent('home-content.html', 'ML Demos')">ML Demos</a>
                <span class="title-separator" id="title-separator" style="display: none;">|</span>
                <span class="title-sub" id="title-sub" style="display: none;"></span>
            </div>
        </div>
    </div>

    <div class="sidebar">
        <h3>Navigation</h3>
        <div class="nav-container">
            <div class="nav-item active" id="nav-home">
                <a href="#" onclick="loadContent('home-content.html', 'ML Demos', 'nav-home')">Home</a>
            </div>
            <div class="nav-group">
                <h4>Demos</h4>
                <div class="nav-item" id="nav-linear-regression">
                    <a href="#" onclick="loadContent('lec02_linear-regression/content.html', 'Linear Regression', 'nav-linear-regression')">Linear Regression</a>
                </div>
                <div class="nav-item" id="nav-regularization">
                    <a href="#" onclick="loadContent('lec03a_regularization/content.html', 'Regularisation', 'nav-regularization')">Regularisation</a>
                </div>
                <div class="nav-item" id="nav-classification">
                    <a href="#" onclick="loadContent('lec03b_classification/content.html', '1D Classification', 'nav-classification')">1D Classification</a>
                </div>
                <div class="nav-item" id="nav-2d-classification">
                    <a href="#" onclick="loadContent('lec03c_2d-classification/content.html', '2D Classification', 'nav-2d-classification')">2D Classification</a>
                </div>
                <div class="nav-item" id="nav-neural-networks">
                    <a href="#" onclick="loadContent('lec04a_neural-networks/content.html', 'Neural Networks', 'nav-neural-networks')">Neural Networks</a>
                </div>
                <div class="nav-item" id="nav-backpropagation">
                    <a href="#" onclick="loadContent('lec04b_backpropagation/content.html', 'Backpropagation', 'nav-backpropagation')">Backpropagation</a>
                </div>
                <div class="nav-item" id="nav-convolution-pooling">
                    <a href="#" onclick="loadContent('lec05a_convolution-pooling/content.html', 'Convolution & Pooling', 'nav-convolution-pooling')">Convolution & Pooling</a>
                </div>
                <div class="nav-item" id="nav-cnn-architecture">
                    <a href="#" onclick="loadContent('lec05b_cnn-architecture/content.html', 'CNN Architecture', 'nav-cnn-architecture')">CNN Architecture</a>
                </div>
                <div class="nav-item" id="nav-rnn">
                    <a href="#" onclick="loadContent('lec06a_rnn/content.html', 'Recurrent Neural Networks', 'nav-rnn')">Recurrent Neural Networks</a>
                </div>
                <div class="nav-item" id="nav-attention">
                    <a href="#" onclick="loadContent('lec06b_attention/content.html', 'Attention Mechanism', 'nav-attention')">Attention Mechanism</a>
                </div>
                <div class="nav-item" id="nav-k-means">
                    <a href="#" onclick="loadContent('lec07_k-means-clustering/content.html', 'K-Means Clustering', 'nav-k-means')">K-Means Clustering</a>
                </div>
                <div class="nav-item" id="nav-multi-armed-bandit">
                    <a href="#" onclick="loadContent('lec08_multi-armed-bandit/content.html', 'Multi-Armed Bandit', 'nav-multi-armed-bandit')">Multi-Armed Bandit</a>
                </div>
            </div>
        </div>
    </div>

    <div class="main-content">
        <iframe id="content-frame" src="home-content.html" style="width: 100%; height: calc(100vh - 80px); border: none; overflow: auto;"></iframe>
    </div>

    <script>
        function loadContent(contentPath, title, navId, pushState = true) {
            // Update the iframe source
            const iframe = document.getElementById('content-frame');
            iframe.src = contentPath;

            // Update the page title
            if (title === 'ML Demos') {
                document.title = 'ML Demos - Interactive Machine Learning Demonstrations';
                document.getElementById('title-separator').style.display = 'none';
                document.getElementById('title-sub').style.display = 'none';
            } else {
                document.title = title + ' - ML Demos';
                document.getElementById('title-separator').style.display = 'inline';
                document.getElementById('title-sub').style.display = 'inline';
                document.getElementById('title-sub').textContent = title;
            }

            // Update active navigation
            if (navId) {
                // Remove active class from all nav items
                const navItems = document.querySelectorAll('.nav-item');
                navItems.forEach(item => item.classList.remove('active'));

                // Add active class to selected item
                const selectedNav = document.getElementById(navId);
                if (selectedNav) {
                    selectedNav.classList.add('active');
                }
            }

            // Update browser history
            if (pushState) {
                const state = { contentPath, title, navId };
                const url = navId === 'nav-home' ? '#' : '#' + navId.replace('nav-', '');
                history.pushState(state, title, url);
            }

            // Prevent default link behavior
            return false;
        }

        // Handle browser back/forward buttons
        window.addEventListener('popstate', function(event) {
            if (event.state) {
                loadContent(event.state.contentPath, event.state.title, event.state.navId, false);
            }
        });

        // Initialize navigation state and handle direct URL access
        window.addEventListener('load', function() {
            const hash = window.location.hash.slice(1);
            let contentPath = 'home-content.html';
            let title = 'ML Demos';
            let navId = 'nav-home';

            // Map URL hash to content
            const hashMap = {
                'linear-regression': { path: 'lec02_linear-regression/content.html', title: 'Linear Regression', navId: 'nav-linear-regression' },
                'regularization': { path: 'lec03a_regularization/content.html', title: 'Regularisation', navId: 'nav-regularization' },
                'classification': { path: 'lec03b_classification/content.html', title: '1D Classification', navId: 'nav-classification' },
                '2d-classification': { path: 'lec03c_2d-classification/content.html', title: '2D Classification', navId: 'nav-2d-classification' },
                'neural-networks': { path: 'lec04a_neural-networks/content.html', title: 'Neural Networks', navId: 'nav-neural-networks' },
                'backpropagation': { path: 'lec04b_backpropagation/content.html', title: 'Backpropagation', navId: 'nav-backpropagation' },
                'convolution-pooling': { path: 'lec05a_convolution-pooling/content.html', title: 'Convolution & Pooling', navId: 'nav-convolution-pooling' },
                'cnn-architecture': { path: 'lec05b_cnn-architecture/content.html', title: 'CNN Architecture', navId: 'nav-cnn-architecture' },
                'rnn': { path: 'lec06a_rnn/content.html', title: 'Recurrent Neural Networks', navId: 'nav-rnn' },
                'attention': { path: 'lec06b_attention/content.html', title: 'Attention Mechanism', navId: 'nav-attention' },
                'k-means': { path: 'lec07_k-means-clustering/content.html', title: 'K-Means Clustering', navId: 'nav-k-means' },
                'multi-armed-bandit': { path: 'lec08_multi-armed-bandit/content.html', title: 'Multi-Armed Bandit', navId: 'nav-multi-armed-bandit' }
            };

            if (hash && hashMap[hash]) {
                contentPath = hashMap[hash].path;
                title = hashMap[hash].title;
                navId = hashMap[hash].navId;
            }

            // Load the appropriate content
            loadContent(contentPath, title, navId, false);

            // Set initial state
            history.replaceState({
                contentPath: contentPath,
                title: title,
                navId: navId
            }, title, window.location.href);
        });

        // Handle iframe height adjustment for responsive content
        window.addEventListener('resize', function() {
            const iframe = document.getElementById('content-frame');
            if (iframe) {
                iframe.style.height = 'calc(100vh - 80px)';
            }
        });
    </script>
</body>
</html>